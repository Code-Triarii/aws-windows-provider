root:
  # Flag the decides if the terraform files are generated using the playbook
  prepare: true
  # TODO: Decide if implementing here the creation or handle it outside of this playbook. See parttens to see common reusability
  write: true
  terraform:
    location: ../terraform_templates
    aws_version: 4.0
    prefix: bsa-auto-infra
    modules:
      vpc: ../terraform_templates/modules/vpc
  outputs:
    location: /home/perico/infra-provision-outputs

resources:
  tags:
    OWNER: APPSEC
    PURPOSE: AUTOMATION
  vpc:
    enabled: true
    # Only if enabled is set to "false", then all the "pre_existing" parameters must be set
    pre_existing:
      vpc_id: "vpc-01234567"
    # Full options for further implementation https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/vpc
    # This is only required when the resource is going to be created
    options:
      name: "vpc"
      cidr_block: 10.15.0.0/20
      instance_tenancy: "default"
      enable_dns_support: "true"
      enable_dns_hostnames: "false"
  subnet:
    enabled: true
    pre_existing:
      subnet_id: "subnet-01234567"
    # Full options for further implementation https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet
    # This is only required when the resource is going to be created
    options:
      name: "sbt"
      cidr_block: 10.15.0.1/24
      availability_zone: ""